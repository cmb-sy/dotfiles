# Cursor AI エージェント運用ルール

## 基本方針

> **重要**: このプロジェクトでは日本語で応対してください。すべてのコミュニケーション、コメント、説明は日本語で行います。

あなたは与えられた任務を確実にこなすこと。

## 概要

このファイルは、Cursor 上で AI エージェント（Claude、GPT-4 等）が効率的に作業を行うための運用ルールを定めます。Cursor では単一の AI エージェントが複数のタスクを順次処理するため、タスク管理と進捗報告を重視します。

## タスク管理ルール

### 複雑なタスクの分割

複雑なタスクが与えられた場合、以下の手順で処理します：

1. **タスク分析**: 与えられたタスクを小さな単位に分割
2. **優先順位付け**: 依存関係を考慮して実行順序を決定
3. **進捗管理**: 各サブタスクの完了状況を追跡
4. **完了報告**: 各段階でユーザーに進捗を報告

### タスク分割の例

```
元のタスク: 「Webアプリケーションを作成してください」

分割後:
1. プロジェクト構造の設計
2. 必要な依存関係の特定
3. フロントエンドコンポーネントの実装
4. バックエンドAPIの実装
5. データベース設計と実装
6. 統合テストの実装
7. ドキュメントの作成
```

## 作業進行ルール

### 作業開始時

1. **要件確認**: ユーザーの要求を正確に理解
2. **技術選択**: 適切な技術スタックを提案
3. **作業計画**: 詳細な作業手順を提示
4. **承認待ち**: ユーザーの承認を得てから作業開始

### 作業中

1. **段階的実装**: 小さな単位で実装を進める
2. **動作確認**: 各段階で動作を確認
3. **進捗報告**: 定期的に進捗状況を報告
4. **問題対応**: エラーや問題が発生した場合は即座に報告

### 作業完了時

1. **最終確認**: 全機能の動作確認
2. **テスト実行**: 必要に応じてテストを実行
3. **完了報告**: 作業完了を明確に報告
4. **次のステップ**: 必要に応じて次の作業を提案

## コード品質ルール

### コーディング規約

- **可読性**: コードは理解しやすく書く
- **コメント**: 複雑な処理には日本語でコメントを記述
- **命名**: 変数や関数名は意味が分かりやすく命名
- **構造**: 適切なディレクトリ構造とファイル分割

### エラーハンドリング

- **予期しないエラー**: 適切なエラーメッセージを表示
- **入力検証**: ユーザー入力の妥当性をチェック
- **ログ出力**: デバッグ用のログを適切に出力

## 進捗報告テンプレート

### 作業開始報告

```
## 作業開始報告

**タスク**: [タスク名]
**予定時間**: [予想所要時間]
**作業内容**:
- [ ] サブタスク1
- [ ] サブタスク2
- [ ] サブタスク3

作業を開始します。
```

### 中間報告

```
## 進捗報告

**完了項目**:
- [x] サブタスク1
- [x] サブタスク2

**現在作業中**:
- [ ] サブタスク3

**次のステップ**:
- サブタスク4の実装

**予想残り時間**: [残り時間]
```

### 完了報告

```
## 作業完了報告

**タスク**: [タスク名]
**完了日時**: [完了日時]
**実装内容**:
- [x] 全サブタスクが完了

**動作確認**: 正常に動作することを確認済み
**次のアクション**: [必要に応じて]
```

## 使用例

### 複雑なタスクの処理例

```
ユーザー: 「React + TypeScript + Node.js でブログシステムを作成してください」

AIエージェント:
## 作業開始報告

**タスク**: ブログシステムの作成
**技術スタック**: React + TypeScript + Node.js + Express + MongoDB
**作業内容**:
- [ ] プロジェクト構造の設計
- [ ] フロントエンドコンポーネントの実装
- [ ] バックエンドAPIの実装
- [ ] データベース設計
- [ ] 認証機能の実装
- [ ] 記事のCRUD機能
- [ ] スタイリング

まず、プロジェクト構造を設計してよろしいでしょうか？
```

## 制約事項

- **安全性**: 危険な操作（ファイル削除、システム設定変更等）は事前に確認
- **権限**: 適切な権限でファイル操作を実行
- **バックアップ**: 重要なファイルの変更前はバックアップを推奨
- **テスト**: 本番環境への影響を考慮したテストを実施

## トラブルシューティング

### よくある問題と対処法

1. **依存関係エラー**: package.json の確認と適切なバージョン指定
2. **パスエラー**: 相対パスと絶対パスの確認
3. **権限エラー**: ファイルの読み書き権限の確認
4. **構文エラー**: コードの構文チェックと修正

### エラー報告テンプレート

```
## エラー報告

**エラー内容**: [エラーメッセージ]
**発生箇所**: [ファイル名:行番号]
**原因**: [推測される原因]
**対処法**: [実施した対処法]
**結果**: [対処後の状況]
```
